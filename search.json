[{"path":"https://mps9506.github.io/rATTAINS/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2021 rATTAINS authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://mps9506.github.io/rATTAINS/articles/Dealing-With-Errors.html","id":"network-connectivity","dir":"Articles","previous_headings":"","what":"Network Connectivity","title":"Dealing with Errors","text":"following error message likely indicates issue connecting EPA server: Potential issues/fixes: Check network connection. Check attains.epa.gov. able connect, warning notice accessing U.S. Government information systems show web browser. Occasionally proxy systems used corporate systems cause issues connections (see: https://stackoverflow.com/questions/59796178/r-curlhas-internet-false-even-though---internet-connection). ’ve tried account package, might run occasional issues.","code":"state_summary(organization_id = \"TCEQMAIN\", reporting_cycle = \"2022\")"},{"path":"https://mps9506.github.io/rATTAINS/articles/Dealing-With-Errors.html","id":"server-response","dir":"Articles","previous_headings":"","what":"Server Response","title":"Dealing with Errors","text":"server might also return http code messages. common 404 429. rATTAINS generally provide simple message error encountered: Potential issues/fixes: Wait server responsive. Make less frequent requests.","code":"actions(action_id = \"R8-ND-2018-03\") #> Error: Too Many Requests (HTTP 429)"},{"path":"https://mps9506.github.io/rATTAINS/articles/Dealing-With-Errors.html","id":"parsing-errors","dir":"Articles","previous_headings":"","what":"Parsing Errors","title":"Dealing with Errors","text":"default behavior rATTAINS parse JSON data downloaded API one dataframes. returned single dataframe list dataframes depending function. rATTAINS also tries flatten data much possible. design choice might mistake can become source errors data returned API changes inconsistent. version 1.0.0 package .unnest argument added functions. setting .unnest=FALSE many problems avoided. Default behavior: Using .unnest=FALSE returns nested columns. tidyr family unnest() functions easy way flatten data: option doesn’t work, rATTAINS can also provide raw JSON data API. tibblify 📦️ jsonlite 📦 provide tools convert JSON nested lists tibbles pretty easily. First, use tidy=FALSE argument return unparsed JSON string, uses jsonlite convert data nested list, tibblify convert nested dataframe!","code":"state_summary(organization_id = \"TDECWR\",                reporting_cycle = \"2016\") #> # A tibble: 71 × 24 #>    organization_identifer organization_name organization_type_text #>    <chr>                  <chr>             <chr>                  #>  1 TDECWR                 Tennessee         State                  #>  2 TDECWR                 Tennessee         State                  #>  3 TDECWR                 Tennessee         State                  #>  4 TDECWR                 Tennessee         State                  #>  5 TDECWR                 Tennessee         State                  #>  6 TDECWR                 Tennessee         State                  #>  7 TDECWR                 Tennessee         State                  #>  8 TDECWR                 Tennessee         State                  #>  9 TDECWR                 Tennessee         State                  #> 10 TDECWR                 Tennessee         State                  #> # ℹ 61 more rows #> # ℹ 21 more variables: reporting_cycle <chr>, water_type_code <chr>, #> #   units_code <chr>, use_name <chr>, fully_supporting <dbl>, #> #   fully_supporting_count <int>, use_insufficient_information <dbl>, #> #   use_insufficient_information_count <int>, not_assessed <dbl>, #> #   not_assessed_count <int>, not_supporting <dbl>, not_supporting_count <int>, #> #   parameter_group <chr>, parameter_insufficient_information <dbl>, … df <- state_summary(organization_id = \"TDECWR\",                      reporting_cycle = \"2016\",                     .unnest = FALSE) df #> # A tibble: 1 × 4 #>   organization_identifer organization_name organization_type_text #>   <chr>                  <chr>             <chr>                  #> 1 TDECWR                 Tennessee         State                  #> # ℹ 1 more variable: reporting_cycles <list<tibble[,2]>>  df |>   tidyr::unnest(reporting_cycles) |>    tidyr::unnest(water_types) |>    tidyr::unnest(use_attainments) #> # A tibble: 22 × 16 #>    organization_identifer organization_name organization_type_text #>    <chr>                  <chr>             <chr>                  #>  1 TDECWR                 Tennessee         State                  #>  2 TDECWR                 Tennessee         State                  #>  3 TDECWR                 Tennessee         State                  #>  4 TDECWR                 Tennessee         State                  #>  5 TDECWR                 Tennessee         State                  #>  6 TDECWR                 Tennessee         State                  #>  7 TDECWR                 Tennessee         State                  #>  8 TDECWR                 Tennessee         State                  #>  9 TDECWR                 Tennessee         State                  #> 10 TDECWR                 Tennessee         State                  #> # ℹ 12 more rows #> # ℹ 13 more variables: reporting_cycle <chr>, water_type_code <chr>, #> #   units_code <chr>, use_name <chr>, fully_supporting <dbl>, #> #   fully_supporting_count <int>, use_insufficient_information <dbl>, #> #   use_insufficient_information_count <int>, not_assessed <dbl>, #> #   not_assessed_count <int>, not_supporting <dbl>, not_supporting_count <int>, #> #   parameters <list<tibble[,9]>> raw_data <- state_summary(organization_id = \"TDECWR\",                      reporting_cycle = \"2016\",                     tidy = FALSE)  list_data <- jsonlite::fromJSON(raw_data,                                 simplifyVector = FALSE,                                 simplifyDataFrame = FALSE,                                 flatten = FALSE)  df <- tibblify::tibblify(list_data$data,                          unspecified = \"drop\") #> The spec contains 1 unspecified field: #> • reportingCycles->combinedCycles df$reportingCycles #> # A tibble: 1 × 3 #>   reportingCycle cycleStatus         waterTypes #>   <chr>          <chr>       <list<tibble[,3]>> #> 1 2016           Historical             [4 × 3]"},{"path":"https://mps9506.github.io/rATTAINS/articles/Example---Tracking-Impaired-Waters.html","id":"tracking-impaired-uses","dir":"Articles","previous_headings":"","what":"Tracking impaired uses","title":"Example - Tracking Impaired Waters","text":"simple example utilizing ATTAINS data tracking changes waters assessed “impaired” year year. can access data using state_summary() function provide aggregated information assessment decisions organization identifier. First need find organization identifier use: appears can use TCEQMAIN identifier code interested assessment summaries state Texas. ’m interested three recent assessment cycles. Unfortunately, can use multiple values reporting_cycle argument need either loop calls row binding. Since just years, just bind rows. Next summarize counts “causes” reporting cycle designated use: Finally, plot ggplot ggrepel magic:","code":"domain_values(domain_name = \"OrgStateCode\") |>    filter(code == \"TX\") #> # A tibble: 2 × 5 #>   domain       name  code  context  context_2 #>   <chr>        <chr> <chr> <chr>    <chr>     #> 1 OrgStateCode TX    TX    TCEQMAIN State     #> 2 OrgStateCode TX    TX    EPA      EPA df <- state_summary(organization_id = \"TCEQMAIN\", reporting_cycle = \"2022\") |>   bind_rows(state_summary(organization_id = \"TCEQMAIN\", reporting_cycle = \"2020\")) |>    bind_rows(state_summary(organization_id = \"TCEQMAIN\", reporting_cycle = \"2018\")) |>    bind_rows(state_summary(organization_id = \"TCEQMAIN\", reporting_cycle = \"2016\")) |>    bind_rows(state_summary(organization_id = \"TCEQMAIN\", reporting_cycle = \"2014\")) df_uses <- df |>    filter(use_name != \"DOMESTIC WATER SUPPLY - PUBLIC WATER SUPPLY\") |>    mutate(reporting_cycle = as.numeric(reporting_cycle),          cause_count = as.numeric(cause_count)) |>    group_by(reporting_cycle, use_name) |>    summarise(count = sum(cause_count, na.rm = TRUE)) #> `summarise()` has grouped output by 'reporting_cycle'. You can override using #> the `.groups` argument. ggplot(df_uses, aes(x = reporting_cycle, y = count, group = use_name)) +   geom_line(aes(color = use_name)) +   geom_text_repel(data = df_uses |>  filter(reporting_cycle==2022),                   aes(label = use_name),                   size = 2.5,                   hjust = \"left\",                   fontface=\"bold\",                   direction= \"y\",                   nudge_x = 5,                   color = alpha(\"white\", .75)) +   geom_text_repel(data = df_uses |>  filter(reporting_cycle==2014),                   aes(label = use_name),                   size = 2.5,                   hjust = \"right\",                   fontface=\"bold\",                   direction= \"y\",                   nudge_x = -5,                   color = alpha(\"white\", .75)) +   geom_label(aes(label = count),              size = 2,              label.padding = unit(0.05, \"lines\"),               label.size = 0.0,              fill = \"#17262b\",              color = alpha(\"white\", .75)) +   scale_x_continuous(position = \"top\",                      breaks = c(2014,2016,2018,2020, 2022),                      expand = expansion(mult = 0.25)) +   scale_color_brewer(palette = \"Accent\") +   theme_mps_noto_dark() +   theme(axis.ticks = element_blank(),         axis.title.y = element_blank(),         axis.title.x = element_blank(),         axis.text.y = element_blank(),         legend.position = \"none\",         panel.border = element_blank(),         panel.grid.major.x = element_blank(),         panel.grid.minor.x = element_blank(),         panel.grid.major.y = element_blank(),         panel.grid.minor.y = element_blank())"},{"path":"https://mps9506.github.io/rATTAINS/articles/Example---Tracking-Impaired-Waters.html","id":"tracking-parameter-assessments","dir":"Articles","previous_headings":"","what":"Tracking parameter assessments","title":"Example - Tracking Impaired Waters","text":"Instead number impaired assessment units, example examines proportion assessed stream miles water body acres impaired due particular water qualiyt parameter.","code":"df |>    group_by(water_type_code) |>    filter(use_name %in% c(\"Recreation Use\", \"General Use\", \"Aquatic Life Use\",                          \"Fish Consumption Use\")) |>   filter(water_type_code != \"WETLANDS, FRESHWATER\") |>    mutate(parameter_group = gsub(\"/\", \"<br>\", parameter_group)) |>    mutate(assessed = fully_supporting + not_supporting,          percent_impaired = not_supporting/assessed * 100) |>    ggplot() +   geom_col(aes(reporting_cycle, percent_impaired)) +   facet_grid(rows = vars(parameter_group),              cols = vars(water_type_code)) +   labs(x = \"\", y = \"Percent of assessed water bodies impaired\",        caption =         \"Estuary, Ocean, Reservoir =  % of acres assessed\\n        Stream, and Stream, Tidal =  % of miles assessed\") +    theme_mps_noto_dark() +   theme(axis.text.x = element_text(size = 6, angle = 45),         axis.text.y = element_text(size = 6),         strip.text.y = element_markdown(angle = 0, hjust = 0, size = 8),         strip.text.x = element_text(size = 8),         strip.background = element_blank(),         legend.position = \"none\") #> Warning: Removed 46 rows containing missing values or values outside the scale range #> (`geom_col()`)."},{"path":"https://mps9506.github.io/rATTAINS/articles/Example---Tracking-Impaired-Waters.html","id":"notes","dir":"Articles","previous_headings":"","what":"Notes","title":"Example - Tracking Impaired Waters","text":"difficult part utilizing data exploring included reported various states. state provides different amounts data often unique codes information variable name. state tribal specific context probably useful interpreting information included data. Also note documentation specific meanings various output variables information provided EPA.","code":""},{"path":"https://mps9506.github.io/rATTAINS/articles/Introduction.html","id":"about","dir":"Articles","previous_headings":"","what":"About","title":"Introduction","text":"Assessment, Total Maximum Daily Load (TMDL) Tracking Implementation System (ATTAINS) U.S. Environmental Protection Agency (EPA) database used track information provided states water quality assessments conducted Clean Water Act. assessments conducted every two years evaluate nation’s water bodies meet water quality standards. States required take Actions (TMDLs efforts) water bodies meet standards. Public information ATTAINS made available webservices provided JSON files. rATTAINS facilitates accessing data various functions provide raw JSON formatted “tidy” data ATTAINS webservice endpoints. information Clean Water Act assessment reporting available EPA. alternative methods accessing data, see “’s Waterway” webpage interactive data exploration ArcGIS MapService spatial data.","code":""},{"path":[]},{"path":"https://mps9506.github.io/rATTAINS/articles/Introduction.html","id":"summary-services","dir":"Articles","previous_headings":"Functions","what":"Summary Services","title":"Introduction","text":"EPA provides two summary service endpoint provide summaries assessed uses organization identifier hydrologic unit code (HUC). example, return summary assessed uses state Tennessee following function used: HUC12 service operates similarly provides data summarized area, specifically HUC12 units. example: huc12_summary() returns list tibbles different summaries information. Using example: - x$huc_summary provides summary HUC area, area percentage catchment assessed good, unknown, impaired. - x$au_summary provides tibble unique identifiers assessment units (distinct sections waterbodies) within queried HUC12. - x$ir_summary provides simple summary area catchment classified different Integrated Report Categories. - x$status_summary provides summary overall status within HUC12. - x$use_group_summary provides summary use attainment bu use group within HUC12. - x$use_summary breaks use summary use name. - x$param_summary provides information parameter groups. - x$res_plan_summary x$vision_plan_summary provides summary amount watershed covered particular types restoration plans vision plan, TMDLs.","code":"library(rATTAINS) x <- state_summary(organization_id = \"TDECWR\",                    reporting_cycle = \"2016\") x #> # A tibble: 71 × 24 #>    organization_identifer organization_name organization_type_text #>    <chr>                  <chr>             <chr>                  #>  1 TDECWR                 Tennessee         State                  #>  2 TDECWR                 Tennessee         State                  #>  3 TDECWR                 Tennessee         State                  #>  4 TDECWR                 Tennessee         State                  #>  5 TDECWR                 Tennessee         State                  #>  6 TDECWR                 Tennessee         State                  #>  7 TDECWR                 Tennessee         State                  #>  8 TDECWR                 Tennessee         State                  #>  9 TDECWR                 Tennessee         State                  #> 10 TDECWR                 Tennessee         State                  #> # ℹ 61 more rows #> # ℹ 21 more variables: reporting_cycle <chr>, water_type_code <chr>, #> #   units_code <chr>, use_name <chr>, fully_supporting <dbl>, #> #   fully_supporting_count <int>, use_insufficient_information <dbl>, #> #   use_insufficient_information_count <int>, not_assessed <dbl>, #> #   not_assessed_count <int>, not_supporting <dbl>, not_supporting_count <int>, #> #   parameter_group <chr>, parameter_insufficient_information <dbl>, … x <- huc12_summary(\"020700100204\") x #> $huc_summary #> # A tibble: 1 × 14 #>   huc12        assessment_unit_count total_catchment_area…¹ total_huc_area_sq_mi #>   <chr>                        <int>                  <dbl>                <dbl> #> 1 020700100204                    17                   46.1                 46.2 #> # ℹ abbreviated name: ¹​total_catchment_area_sq_mi #> # ℹ 10 more variables: assessed_catchment_area_sq_mi <dbl>, #> #   assessed_cathcment_area_percent <dbl>, #> #   assessed_good_catchment_area_sq_mi <dbl>, #> #   assessed_good_catchment_area_percent <dbl>, #> #   assessed_unknown_catchment_area_sq_mi <dbl>, #> #   assessed_unknown_catchment_area_percent <dbl>, … #>  #> $au_summary #> # A tibble: 17 × 1 #>    assessment_unit_id           #>    <chr>                        #>  1 MD-02140205-Northwest_Branch #>  2 MD-02140205                  #>  3 DCTFD01R_00                  #>  4 DCTNA01R_00                  #>  5 DCTFS01R_00                  #>  6 MD-ANATF                     #>  7 DCTTX27R_00                  #>  8 DCTFC01R_00                  #>  9 MD-02140205-Mainstem         #> 10 DCTWB00R_02                  #> 11 DCANA00E_02                  #> 12 DCTHR01R_00                  #> 13 DCTWB00R_01                  #> 14 DCTPB01R_00                  #> 15 DCTDU01R_00                  #> 16 DCANA00E_01                  #> 17 DCAKL00L_00                  #>  #> $ir_summary #> # A tibble: 2 × 4 #>   EPA_IR_category_name catchment_size_sq_mi catchment_size_percent #>   <chr>                               <dbl>                  <dbl> #> 1 4A                                   12.7                   27.5 #> 2 5                                    25.8                   56.0 #> # ℹ 1 more variable: assessment_unit_count <int> #>  #> $status_summary #> # A tibble: 1 × 4 #>   overall_status catchment_size_sq_mi catchment_size_percent #>   <chr>                         <dbl>                  <dbl> #> 1 Not Supporting                 35.2                   76.4 #> # ℹ 1 more variable: assessment_unit_count <int> #>  #> $use_group_summary #> # A tibble: 5 × 5 #>   use_group_name      use_attainment catchment_size_sq_mi catchment_size_percent #>   <chr>               <chr>                         <dbl>                  <dbl> #> 1 ECOLOGICAL_USE      Not Supporting               10.9                    23.7  #> 2 FISHCONSUMPTION_USE Insufficient …               15.9                    34.4  #> 3 FISHCONSUMPTION_USE Not Supporting               15.9                    34.4  #> 4 OTHER_USE           Fully Support…                0.683                   1.48 #> 5 RECREATION_USE      Not Supporting               15.2                    32.9  #> # ℹ 1 more variable: assessment_unit_count <int> #>  #> $use_summary #> # A tibble: 6 × 6 #>   use_name                    use_group_name use_attainment catchment_size_sq_mi #>   <chr>                       <chr>          <chr>                         <dbl> #> 1 Navigation                  OTHER_USE      Fully Support…               10.9   #> 2 Primary Contact Recreation  RECREATION_USE Not Supporting               15.9   #> 3 Protection and Propagation… ECOLOGICAL_USE Not Supporting               15.9   #> 4 Protection of Human Health… FISHCONSUMPTI… Insufficient …                0.683 #> 5 Protection of Human Health… FISHCONSUMPTI… Not Supporting               15.2   #> 6 Secondary Contact Recreati… RECREATION_USE Not Supporting               15.9   #> # ℹ 2 more variables: catchment_size_percent <dbl>, assessment_unit_count <int> #>  #> $param_summary #> # A tibble: 16 × 4 #>    parameter_group_name              catchment_size_sq_mi catchment_size_percent #>    <chr>                                            <dbl>                  <dbl> #>  1 ALGAL GROWTH                                      9.21                  20.0  #>  2 CHLORINE                                          1.73                   3.75 #>  3 HABITAT ALTERATIONS                               2.80                   6.07 #>  4 HYDROLOGIC ALTERATION                             5.98                  13.0  #>  5 METALS (OTHER THAN MERCURY)                      11.8                   25.7  #>  6 NUTRIENTS                                         9.21                  20.0  #>  7 OIL AND GREASE                                   10.9                   23.7  #>  8 ORGANIC ENRICHMENT/OXYGEN DEPLET…                12.7                   27.5  #>  9 PATHOGENS                                        15.9                   34.4  #> 10 PESTICIDES                                       15.2                   32.9  #> 11 PH/ACIDITY/CAUSTIC CONDITIONS                     1.95                   4.22 #> 12 POLYCHLORINATED BIPHENYLS (PCBS)                 15.2                   32.9  #> 13 SEDIMENT                                          1.90                   4.11 #> 14 TOXIC ORGANICS                                   13.3                   28.7  #> 15 TRASH                                             9.21                  20.0  #> 16 TURBIDITY                                        15.9                   34.4  #> # ℹ 1 more variable: assessment_unit_count <int> #>  #> $res_plan_summary #> # A tibble: 1 × 4 #>   summary_type_name catchment_size_sq_mi catchment_size_percent #>   <chr>                            <dbl>                  <dbl> #> 1 TMDL                              15.9                   34.4 #> # ℹ 1 more variable: assessment_unit_count <int> #>  #> $vision_plan_summary #> # A tibble: 1 × 4 #>   summary_type_name catchment_size_sq_mi catchment_size_percent #>   <chr>                            <dbl>                  <dbl> #> 1 TMDL                              15.9                   34.4 #> # ℹ 1 more variable: assessment_unit_count <int>"},{"path":"https://mps9506.github.io/rATTAINS/articles/Introduction.html","id":"domains","dir":"Articles","previous_headings":"Functions","what":"Domains","title":"Introduction","text":"function number allowable arguments associated values. order explore values might interested querying, Domain Value service provides information allowable options. mapped domain_values() function. used without arguments get full list possible “domains.” typically searchable parameters used functions rATTAINS. Note domain names returned service one one match argument names used rATTAINS. typically fairly easy figure ones match arguments. example want find possible organization identifiers query : function returns variable state codes possible parameter values context variable. Similarly want look possible Use Names utilized Texas Commission Environmental Quality:","code":"x <- domain_values(domain_name = \"OrgStateCode\") x #> # A tibble: 146 × 5 #>    domain       name  code  context         context_2 #>    <chr>        <chr> <chr> <chr>           <chr>     #>  1 OrgStateCode AK    AK    EPA             NA        #>  2 OrgStateCode FL    FL    21FL303D        NA        #>  3 OrgStateCode PA    PA    EPA             NA        #>  4 OrgStateCode CC    CC    TEST_ORG_C      NA        #>  5 OrgStateCode AZ    AZ    TEST_TRIBE_B    NA        #>  6 OrgStateCode MS    MS    21MSWQ          NA        #>  7 OrgStateCode CT    CT    CT_DEP01        NA        #>  8 OrgStateCode ND    ND    21NDHDWQ        NA        #>  9 OrgStateCode MN    MN    REDLAKE         NA        #> 10 OrgStateCode NM    NM    PUEBLO_POJOAQUE NA        #> # ℹ 136 more rows x <- domain_values(domain_name = \"UseName\", context = \"TCEQMAIN\") x #> # A tibble: 17 × 5 #>    domain  name                                        code    context context_2 #>    <chr>   <chr>                                       <chr>   <chr>   <chr>     #>  1 UseName Recreation Use                              Recrea… TCEQMA… NA        #>  2 UseName Fish Consumption Use                        Fish C… TCEQMA… NA        #>  3 UseName INTERMEDIATE AQUATIC LIFE                   INTERM… TCEQMA… NA        #>  4 UseName OVERALL USE SUPPORT                         OVERAL… TCEQMA… NA        #>  5 UseName Aquatic Life Use                            Aquati… TCEQMA… NA        #>  6 UseName Oyster Waters Use                           Oyster… TCEQMA… NA        #>  7 UseName FISH CONSUMPTION                            FISH C… TCEQMA… NA        #>  8 UseName OYSTER AQUATIC LIFE                         OYSTER… TCEQMA… NA        #>  9 UseName NON-CONTACT RECREATION                      NON-CO… TCEQMA… NA        #> 10 UseName CONTACT RECREATION USE                      CONTAC… TCEQMA… NA        #> 11 UseName DOMESTIC WATER SUPPLY - PUBLIC WATER SUPPLY DOMEST… TCEQMA… NA        #> 12 UseName Public Water Supply Use                     Public… TCEQMA… NA        #> 13 UseName General Use                                 Genera… TCEQMA… NA        #> 14 UseName PRIMARY RECREATION/SWIMMING                 PRIMAR… TCEQMA… NA        #> 15 UseName CONTACT RECREATION                          CONTAC… TCEQMA… NA        #> 16 UseName NONCONTACT RECREATION USE                   NONCON… TCEQMA… NA        #> 17 UseName Recreational Beaches                        Recrea… TCEQMA… NA"},{"path":"https://mps9506.github.io/rATTAINS/articles/Introduction.html","id":"other-services","dir":"Articles","previous_headings":"Functions","what":"Other Services","title":"Introduction","text":"assessment_units() : provides information assessment units specified argument parameters. assessments() provides information assessment decisions specified argument parameters. actions() provides information Actions (TMDLs, 4B Actions, similar) finalized specified argument parameters. plans() similiar actions provides information finalized Actions assessment units HUC8. surveys() provides information organization conducted statistical surveys water quality assessment results.","code":""},{"path":"https://mps9506.github.io/rATTAINS/articles/Introduction.html","id":"json-files","dir":"Articles","previous_headings":"Functions","what":"JSON Files","title":"Introduction","text":"default, functions rATTAINS return one “tidy” dataframes. dataframe created attempting flatten nested JSON data returned webservice. require opinionated decisions constitutes flat data, variable data flattened . recognize dataframe output might meet user needs. prefer parse JSON data , use tidy=FALSE argument return unparsed JSON string. number R packages available parse flatten JSON data prepare analysis.","code":""},{"path":"https://mps9506.github.io/rATTAINS/articles/Introduction.html","id":"notes","dir":"Articles","previous_headings":"","what":"Notes","title":"Introduction","text":"U.S. EPA data provider public information. rATTAINS author affiliated EPA. Questions package functionality directed package author. Questions webservice underlying data directed U.S. EPA. Please abuse webservice using package.","code":""},{"path":"https://mps9506.github.io/rATTAINS/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Michael Schramm. Author, maintainer, copyright holder.","code":""},{"path":"https://mps9506.github.io/rATTAINS/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Schramm, Michael (2021).  rATTAINS: Access EPA 'ATTAINS' Data.  R package version 1.0.0. doi:10.5281/zenodo.5469911 https://CRAN.R-project.org/package=rATTAINS","code":"@Manual{,   title = {{rATTAINS}: Access EPA 'ATTAINS' Data},   author = {Michael Schramm},   year = {2021},   url = {https://CRAN.R-project.org/package=rATTAINS},   doi = {10.5281/zenodo.5469911},   note = {R package version 1.0.0}, }"},{"path":"https://mps9506.github.io/rATTAINS/index.html","id":"rattains","dir":"","previous_headings":"","what":"Access EPA ATTAINS Data","title":"Access EPA ATTAINS Data","text":"rATTAINS provides functions downloading tidy data United States (U.S.) Environmental Protection Agency (EPA) ATTAINS webservice. ATTAINS online system used track report Clean Water Act assessments Total Maximum Daily Loads (TMDLs) U.S. surface waters. rATTAINS facilitates access public information webservice made available EPA. rATTAINS CRAN: install development version r-universe:","code":"install.packages('rATTAINS') install.packages('rATTAINS',                  repos = 'https://mps9506.r-universe.dev')"},{"path":"https://mps9506.github.io/rATTAINS/index.html","id":"functions-and-webservices","dir":"","previous_headings":"","what":"Functions and webservices","title":"Access EPA ATTAINS Data","text":"eight user available functions correspond first eight web services detailed EPA. arguments case sensitive. default functions attempt provide flattened “tidy” data single multiple dataframes. using tidy = FALSE argument function , raw JSON read session user parse desired. can useful since webservices provide different results based query tidying process used rATTAINS might make poor assumptions data flattening process. function returns unexpected results, try parsing raw JSON string. state_summary() provides summary information assessed uses organizations integrated reporting cycle. huc_12_summary() provides summary information impairments, actions, documents specified 12-digit HUC (watershed). actions() provides summary information particular finalized actions (TMDLs related). assessments() provides summary data specified assessment decisions waterbody. plans() returns summary plans (TMDLs related) within specified HUC. domain_values() returns allowed values ATTAINS. default (arguments) function returns list allowed domain_names. assessment_units() returns summary information specified assessment units. surveys() returns results state statistical survey results ATTAINS.","code":""},{"path":"https://mps9506.github.io/rATTAINS/index.html","id":"examples","dir":"","previous_headings":"","what":"Examples:","title":"Access EPA ATTAINS Data","text":"Get summary assessed uses Texas Commission Environmental Quality: Get summary assessed uses, parameters plans HUC12: Find statistical surveys completed organization:","code":"library(rATTAINS) state_summary(organization_id = \"TCEQMAIN\",                reporting_cycle = \"2020\",               .unnest = FALSE) |>   tidyr::unnest(reporting_cycles) |>    tidyr::unnest(water_types) |>    tidyr::unnest(use_attainments) #> # A tibble: 31 × 16 #>    organization_identifer organization_name organization_type_text #>    <chr>                  <chr>             <chr>                  #>  1 TCEQMAIN               Texas             State                  #>  2 TCEQMAIN               Texas             State                  #>  3 TCEQMAIN               Texas             State                  #>  4 TCEQMAIN               Texas             State                  #>  5 TCEQMAIN               Texas             State                  #>  6 TCEQMAIN               Texas             State                  #>  7 TCEQMAIN               Texas             State                  #>  8 TCEQMAIN               Texas             State                  #>  9 TCEQMAIN               Texas             State                  #> 10 TCEQMAIN               Texas             State                  #> # ℹ 21 more rows #> # ℹ 13 more variables: reporting_cycle <chr>, water_type_code <chr>, #> #   units_code <chr>, use_name <chr>, fully_supporting <dbl>, #> #   fully_supporting_count <int>, use_insufficient_information <dbl>, #> #   use_insufficient_information_count <int>, not_assessed <dbl>, #> #   not_assessed_count <int>, not_supporting <dbl>, not_supporting_count <int>, #> #   parameters <list<tibble[,9]>> df <- huc12_summary(huc = \"020700100204\",               .unnest = FALSE)  tidyr::unnest(df, summary_by_use) #> # A tibble: 5 × 24 #>   huc12        assessment_unit_count total_catchment_area…¹ total_huc_area_sq_mi #>   <chr>                        <int>                  <dbl>                <dbl> #> 1 020700100204                    17                   46.1                 46.2 #> 2 020700100204                    17                   46.1                 46.2 #> 3 020700100204                    17                   46.1                 46.2 #> 4 020700100204                    17                   46.1                 46.2 #> 5 020700100204                    17                   46.1                 46.2 #> # ℹ abbreviated name: ¹​total_catchment_area_sq_mi #> # ℹ 20 more variables: assessed_catchment_area_sq_mi <dbl>, #> #   assessed_cathcment_area_percent <dbl>, #> #   assessed_good_catchment_area_sq_mi <dbl>, #> #   assessed_good_catchment_area_percent <dbl>, #> #   assessed_unknown_catchment_area_sq_mi <dbl>, #> #   assessed_unknown_catchment_area_percent <dbl>, …  tidyr::unnest(df, summary_by_parameter_impairments, names_repair = \"minimal\") #> # A tibble: 16 × 25 #>    huc12       assessment_unit_count total_catchment_area…¹ total_huc_area_sq_mi #>    <chr>                       <int>                  <dbl>                <dbl> #>  1 0207001002…                    17                   46.1                 46.2 #>  2 0207001002…                    17                   46.1                 46.2 #>  3 0207001002…                    17                   46.1                 46.2 #>  4 0207001002…                    17                   46.1                 46.2 #>  5 0207001002…                    17                   46.1                 46.2 #>  6 0207001002…                    17                   46.1                 46.2 #>  7 0207001002…                    17                   46.1                 46.2 #>  8 0207001002…                    17                   46.1                 46.2 #>  9 0207001002…                    17                   46.1                 46.2 #> 10 0207001002…                    17                   46.1                 46.2 #> 11 0207001002…                    17                   46.1                 46.2 #> 12 0207001002…                    17                   46.1                 46.2 #> 13 0207001002…                    17                   46.1                 46.2 #> 14 0207001002…                    17                   46.1                 46.2 #> 15 0207001002…                    17                   46.1                 46.2 #> 16 0207001002…                    17                   46.1                 46.2 #> # ℹ abbreviated name: ¹​total_catchment_area_sq_mi #> # ℹ 21 more variables: assessed_catchment_area_sq_mi <dbl>, #> #   assessed_cathcment_area_percent <dbl>, #> #   assessed_good_catchment_area_sq_mi <dbl>, #> #   assessed_good_catchment_area_percent <dbl>, #> #   assessed_unknown_catchment_area_sq_mi <dbl>, #> #   assessed_unknown_catchment_area_percent <dbl>, …  tidyr::unnest(df, summary_restoration_plans, names_repair = \"minimal\") #> # A tibble: 1 × 25 #>   huc12        assessment_unit_count total_catchment_area…¹ total_huc_area_sq_mi #>   <chr>                        <int>                  <dbl>                <dbl> #> 1 020700100204                    17                   46.1                 46.2 #> # ℹ abbreviated name: ¹​total_catchment_area_sq_mi #> # ℹ 21 more variables: assessed_catchment_area_sq_mi <dbl>, #> #   assessed_cathcment_area_percent <dbl>, #> #   assessed_good_catchment_area_sq_mi <dbl>, #> #   assessed_good_catchment_area_percent <dbl>, #> #   assessed_unknown_catchment_area_sq_mi <dbl>, #> #   assessed_unknown_catchment_area_percent <dbl>, … surveys(organization_id=\"SDDENR\",         .unnest = FALSE) |>    tidyr::unnest(survey_water_groups) |>    tidyr::unnest(survey_water_group_use_parameters) #> # A tibble: 104 × 21 #>    organization_identifier organization_name organization_type_text #>    <chr>                   <chr>             <chr>                  #>  1 SDDENR                  South Dakota      State                  #>  2 SDDENR                  South Dakota      State                  #>  3 SDDENR                  South Dakota      State                  #>  4 SDDENR                  South Dakota      State                  #>  5 SDDENR                  South Dakota      State                  #>  6 SDDENR                  South Dakota      State                  #>  7 SDDENR                  South Dakota      State                  #>  8 SDDENR                  South Dakota      State                  #>  9 SDDENR                  South Dakota      State                  #> 10 SDDENR                  South Dakota      State                  #> # ℹ 94 more rows #> # ℹ 18 more variables: survey_status_code <chr>, year <int>, #> #   survey_comment_text <chr>, documents <list<tibble[,8]>>, #> #   water_type_group_code <chr>, sub_population_code <chr>, unit_code <chr>, #> #   size <int>, site_number <int>, surey_water_group_comment_text <chr>, #> #   stressor <chr>, survey_use_code <chr>, survey_category_code <chr>, #> #   statistic <chr>, metric_value <dbl>, margin_of_error <dbl>, …"},{"path":"https://mps9506.github.io/rATTAINS/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Access EPA ATTAINS Data","text":"use package publication, please cite :","code":"citation(\"rATTAINS\") #> To cite rATTAINS in publications use: #>  #>   Schramm, Michael (2021).  rATTAINS: Access EPA 'ATTAINS' Data.  R #>   package version 1.0.0. doi:10.5281/zenodo.5469911 #>   https://CRAN.R-project.org/package=rATTAINS #>  #> A BibTeX entry for LaTeX users is #>  #>   @Manual{, #>     title = {{rATTAINS}: Access EPA 'ATTAINS' Data}, #>     author = {Michael Schramm}, #>     year = {2021}, #>     url = {https://CRAN.R-project.org/package=rATTAINS}, #>     doi = {10.5281/zenodo.5469911}, #>     note = {R package version 1.0.0}, #>   }"},{"path":"https://mps9506.github.io/rATTAINS/reference/actions.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Actions Data — actions","title":"Download Actions Data — actions","text":"Provides data actions (TMDLs, 4B Actions, Alternative Actions, Protection Approach Actions) finalized.","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/actions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Actions Data — actions","text":"","code":"actions(   action_id = NULL,   assessment_unit_id = NULL,   state_code = NULL,   organization_id = NULL,   summarize = FALSE,   parameter_name = NULL,   pollutant_name = NULL,   action_type_code = NULL,   agency_code = NULL,   pollutant_source_code = NULL,   action_status_code = NULL,   completion_date_later_than = NULL,   completion_date_earlier_than = NULL,   tmdl_date_later_than = NULL,   tmdl_date_earlier_then = NULL,   last_change_later_than_date = NULL,   last_change_earlier_than_date = NULL,   return_count_only = FALSE,   tidy = TRUE,   .unnest = TRUE,   ... )"},{"path":"https://mps9506.github.io/rATTAINS/reference/actions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Actions Data — actions","text":"action_id (character) Specifies action retrieve. multiple values allowed. optional assessment_unit_id (character) Filters returned actions associated specified assessment unit identifier, plus statewide actions. multiple values allowed. optional state_code (character) Filters returned actions \"belonging\" specified state. optional organization_id (character) Filter returned actions \"belonging\" specified organizations. multiple values allowed. optional summarize (logical) TRUE provides count assessment units action summary pollutants parameters covered action. parameter_name (character) Filters returned actions associated specified parameter. multiple values allowed. optional pollutant_name (character) Filters returned actions associated specified pollutant. multiple values allowed. optional action_type_code (character) Filters returned actions associated specified action type code. multiple values allowed. optional agency_code (character) Filters returned actions specified agency code. multiple values allowed. optional pollutant_source_code (character) Filters returned actions matching specified pollutant source code. multiple values allowed. optional action_status_code (character) Filters returned actions matching specified action status code. multiple values allowed. optional completion_date_later_than (character) Filters returned actions completion date later value specified. Must character formatted \"YYYY-MM-DD\". optional completion_date_earlier_than (character) Filters returned actions completion date earlier value specified. Must character formatted \"YYYY-MM-DD\". optional tmdl_date_later_than (character) Filters returned actions TMDL date later value specified. Must character formatted \"YYYY-MM-DD\". optional tmdl_date_earlier_then (character) Filters returned actions TMDL date earlier value specified. Must character formatted \"YYYY-MM-DD\". optional last_change_later_than_date (character) Filters returned actions last change date later value specified. Can used last_change_earlier_than_date return actions changed within date range. Must character formatted \"YYYY-MM-DD\". optional last_change_earlier_than_date (character) Filters returned actions last change date earlier value specified. Can used last_change_later_than_date return actions changed within date range. Must character formatted \"YYYY-MM-DD\". optional return_count_only return_count_only = TRUE longer supported. tidy (logical) TRUE (default) function returns tidied tibble. FALSE function returns raw JSON string. .unnest (logical) TRUE (default) function attempts unnest data longest format possible. defaults TRUE backwards compatibility suggested use FALSE. ... list curl options passed crul::HttpClient()","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/actions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download Actions Data — actions","text":"tidy = FALSE raw JSON string returned, else JSON data parsed returned tibbles.","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/actions.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download Actions Data — actions","text":"One following arguments must included: action_id, assessment_unit_id, state_code organization_id. Multiple values allowed indicated arguments included comma separated values string (eg. organization_id=\"TCEQMAIN,DCOEE\").","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/actions.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Download Actions Data — actions","text":"See domain_values search values can queried.","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/actions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download Actions Data — actions","text":"","code":"if (FALSE) { # \\dontrun{  ## Look up an individual action actions(action_id = \"R8-ND-2018-03\") ## Get the JSON instead actions(action_id = \"R8-ND-2018-03\", tidy = FALSE) } # }"},{"path":"https://mps9506.github.io/rATTAINS/reference/assessment_units.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Assessment Unit Summary — assessment_units","title":"Download Assessment Unit Summary — assessment_units","text":"Provides basic information requested assessment units.","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/assessment_units.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Assessment Unit Summary — assessment_units","text":"","code":"assessment_units(   assessment_unit_identifer = NULL,   state_code = NULL,   organization_id = NULL,   epa_region = NULL,   huc = NULL,   county = NULL,   assessment_unit_name = NULL,   last_change_later_than_date = NULL,   last_change_earlier_than_date = NULL,   status_indicator = NULL,   return_count_only = NULL,   tidy = TRUE,   .unnest = TRUE,   ... )"},{"path":"https://mps9506.github.io/rATTAINS/reference/assessment_units.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Assessment Unit Summary — assessment_units","text":"assessment_unit_identifer (character) Filters returned assessment units one specific assessment units. Multiple values can provided. optional state_code (character) Filters returned assessment units state code matches one provided list states. Multiple values can provided. optional organization_id (character) Filters returned assessment units mathcing organization ID. Multiple values can provided. optional epa_region (character) Filters returned assessment units matching EPA regions. Multiple values can provided. optional huc (character) Filters returned assessment units location type HUC location value matches provided HUC. Multiple values can provided. optional county (character) Filters returned assessment units location type county matches provided county. Multiple values can provided. optional assessment_unit_name (character) Filters returned assessment units matching provided value. last_change_later_than_date (character) Filters returned assessment units changed provided date. Must character format: \"yyyy-mm-dd\". optional last_change_earlier_than_date (character) Filters returned assessment units changed provided date. Must character format: \"yyyy-mm-dd\". optional status_indicator (character) Filter returned assessment units specified status. \"\" active, \"R\" retired. optional return_count_only return_count_only = Y longer supported. tidy (logical) TRUE (default) function returns tidied tibble. FALSE function returns raw JSON string. .unnest (logical) TRUE (default) function attempts unnest data longest format possible. defaults TRUE backwards compatibility suggested use FALSE. ... list curl options passed crul::HttpClient()","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/assessment_units.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download Assessment Unit Summary — assessment_units","text":"tidy = TRUE tibble many variables, nested, returned. tidy=FALSE raw JSON string returned.","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/assessment_units.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download Assessment Unit Summary — assessment_units","text":"One following arguments must included: assessment_unit_identfier, state_code organization_id. Multiple values allowed indicated arguments included comma separated values string (eg. organization_id=\"TCEQMAIN,DCOEE\").","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/assessment_units.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Download Assessment Unit Summary — assessment_units","text":"See domain_values search values can queried.","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/assessment_units.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download Assessment Unit Summary — assessment_units","text":"","code":"if (FALSE) { # \\dontrun{  ## Retrieve data about a single assessment unit assessment_units(assessment_unit_identifer = \"AL03150201-0107-200\")  ## Retrieve data as a JSON instead assessment_units(assessment_unit_identifer = \"AL03150201-0107-200\", tidy = FALSE) } # }"},{"path":"https://mps9506.github.io/rATTAINS/reference/assessments.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Assessment Decisions — assessments","title":"Download Assessment Decisions — assessments","text":"Download Assessment Decisions","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/assessments.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Assessment Decisions — assessments","text":"","code":"assessments(   assessment_unit_id = NULL,   state_code = NULL,   organization_id = NULL,   reporting_cycle = NULL,   use = NULL,   use_support = NULL,   parameter = NULL,   parameter_status_name = NULL,   probable_source = NULL,   agency_code = NULL,   ir_category = NULL,   state_ir_category_code = NULL,   multicategory_search = NULL,   last_change_later_than_date = NULL,   last_change_earlier_than_date = NULL,   return_count_only = FALSE,   exclude_assessments = FALSE,   tidy = TRUE,   .unnest = TRUE,   ... )"},{"path":"https://mps9506.github.io/rATTAINS/reference/assessments.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Assessment Decisions — assessments","text":"assessment_unit_id (character) Specify specific assessment unit assessment data return. Multiple values can provided. optional state_code (character) Filters returned assessments specified state. optional organization_id (character) Filters returned assessments belonging specified organization. optional reporting_cycle (character) Filters returned assessments specified reporting cycle. reporting cycle refers four-digit year reporting cycle ended. Defaults current cycle. optional use (character) Filters returned assessments specified uses. Multiple values can provided. optional use_support (character) Filters returned assessments fully supporting specified uses threatened. Multiple values can provided. Allowable values include \"X\"= Assessed, \"\"= Insufficient Information, \"F\"= Fully Supporting, \"N\"= Supporting, \"T\"= Threatened. optional parameter (character) Filters returned assessments one specified parameters. Multiple values can provided. optional parameter_status_name (character) Filters returned assessments one associated parameters meeting provided value. Valid values \"Meeting Criteria\", \"Cause\", \"Observed   Effect\". Multiple valuse can provided. optional probable_source (character) Filters returned assessments specified probable source. Multiple values can provided. optional agency_code (character) Filters returned assessments type agency responsible assessment. Allowed values \"E\"=EPA, \"S\"=State, \"T\"=Tribal. optional ir_category (character) Filters returned assessments specified IR category. Multiple values can provided. optional state_ir_category_code (character) Filters returned assessments include provided codes. multicategory_search (character) Specifies whether search multiple levels.  parameter set “Y” query applies EPA IR Category Assessment, UseAttainment, Parameter levels; parameter set “N” looks Assessment level. last_change_later_than_date (character) Filters returned assessments last changed provided date. Must character format: \"yyyy-mm-dd\". optional last_change_earlier_than_date (character) Filters returned assessments last changed provided date. Must character format: \"yyyy-mm-dd\". optional return_count_only return_count_only = TRUE longer supported. exclude_assessments (logical) TRUE returns documents associated Assessment cycle instead assessment data. Defaults FALSE. tidy (logical) TRUE (default) function returns tidied tibble. FALSE function returns raw JSON string. .unnest (logical) TRUE (default) function attempts unnest data longest format possible. defaults TRUE backwards compatibility suggested use FALSE. ... list curl options passed crul::HttpClient()","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/assessments.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download Assessment Decisions — assessments","text":"tidy = FALSE raw JSON string returned, else JSON data parsed returned tibbles.","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/assessments.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download Assessment Decisions — assessments","text":"One following arguments must included: action_id, assessment_unit_id, state_code organization_id. Multiple values allowed indicated arguments included comma separated values string (eg. organization_id=\"TCEQMAIN,DCOEE\").","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/assessments.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Download Assessment Decisions — assessments","text":"See domain_values search values can queried. v1.0.0 rATTAINS returns list tibbles (documents, use_assessment, delisted_waters). Prior versions returned documents, use_assessment, parameter_assessment.","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/assessments.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download Assessment Decisions — assessments","text":"","code":"if (FALSE) { # \\dontrun{  ## Return all assessment decisions with specified parameters assessments(organization_id = \"SDDENR\", probable_source = \"GRAZING IN RIPARIAN OR SHORELINE ZONES\")  ## Returns the raw JSONs instead: assessments(organization_id = \"SDDENR\", probable_source = \"GRAZING IN RIPARIAN OR SHORELINE ZONES\", tidy = FALSE) } # }"},{"path":"https://mps9506.github.io/rATTAINS/reference/domain_values.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Domain Values — domain_values","title":"Download Domain Values — domain_values","text":"Provides information allowed parameter values ATTAINS.","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/domain_values.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Domain Values — domain_values","text":"","code":"domain_values(domain_name = NULL, context = NULL, tidy = TRUE, ...)"},{"path":"https://mps9506.github.io/rATTAINS/reference/domain_values.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Domain Values — domain_values","text":"domain_name (character) Specified domain name obtain valid parameter values . Defaults NULL tibble domain names. return allowable parameter values given domain, domain specified . optional context (character) specified, service return domain_name values  alongside context. optional. tidy (logical) TRUE (default) function returns tidied tibble. FALSE function returns raw JSON string. ... list curl options passed crul::HttpClient()","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/domain_values.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download Domain Values — domain_values","text":"tidy = FALSE raw JSON string returned, else JSON data parsed returned tibble.","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/domain_values.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Download Domain Values — domain_values","text":"Data downloaded EPA webservice automatically cached reduce uneccessary calls server.","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/domain_values.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download Domain Values — domain_values","text":"","code":"if (FALSE) { # \\dontrun{  ## return a tibble with all domain names domain_values()  ## return allowable parameter values for a given domain name and context domain_values(domain_name=\"UseName\",context=\"TCEQMAIN\")  ## return the query as a JSON string instead domain_values(domain_name=\"UseName\",context=\"TCEQMAIN\", tidy= FALSE) } # }"},{"path":"https://mps9506.github.io/rATTAINS/reference/huc12_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Download HUC12 Summary — huc12_summary","title":"Download HUC12 Summary — huc12_summary","text":"Provides summary data 12-digit Hydrologic Unit Code (HUC12), based Assessment Units HUC12. Watershed boundaries may cross state boundaries, service may return assessment units multiple organizations. Returns assessment units HUC12, size percentages assessment units considered Good, Unknown, Impaired.","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/huc12_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download HUC12 Summary — huc12_summary","text":"","code":"huc12_summary(huc, tidy = TRUE, .unnest = TRUE, ...)"},{"path":"https://mps9506.github.io/rATTAINS/reference/huc12_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download HUC12 Summary — huc12_summary","text":"huc (character) Specifies 12-digit HUC summarized. required tidy (logical) TRUE (default) function returns tidied tibble. FALSE function returns raw JSON string. .unnest (logical) TRUE (default) function attempts unnest data longest format possible. defaults TRUE backwards compatibility suggested use FALSE. ... list curl options passed crul::HttpClient()","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/huc12_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download HUC12 Summary — huc12_summary","text":"tidy = FALSE raw JSON string returned, else JSON data parsed returned list tibbles include list seven tibbles.","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/huc12_summary.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Download HUC12 Summary — huc12_summary","text":"See domain_values search values can queried.","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/huc12_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download HUC12 Summary — huc12_summary","text":"","code":"if (FALSE) { # \\dontrun{ ## Return a list of tibbles with summary data about a single huc12 x <- huc12_summary(huc = \"020700100204\")  ## Return as a JSON string x <- huc12_summary(huc = \"020700100204\", tidy = TRUE) } # }"},{"path":"https://mps9506.github.io/rATTAINS/reference/plans.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Plans and Actions by HUC — plans","title":"Download Plans and Actions by HUC — plans","text":"Returns information plans actions (TMDLs, 4B Actions, Alternative Actions, Protective Approach Actions) finalized. similar actions returns data HUC code assessment units covered plan action within specified HUC.","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/plans.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Plans and Actions by HUC — plans","text":"","code":"plans(   huc,   organization_id = NULL,   summarize = FALSE,   tidy = TRUE,   .unnest = TRUE,   ... )"},{"path":"https://mps9506.github.io/rATTAINS/reference/plans.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Plans and Actions by HUC — plans","text":"huc (character) Filters returned actions 8-digit higher HUC. required organization_id (character). Filters returned actions belonging specified organization. Multiple values can used. optional summarize (logical) TRUE count assessment units returned rather assessment unit itdentifers action. Defaults FALSE. tidy (logical) TRUE (default) function returns list tibbles. FALSE function returns raw JSON string. .unnest (logical) TRUE (default) function attempts unnest data longest format possible. defaults TRUE backwards compatibility suggested use FALSE. ... list curl options passed crul::HttpClient()","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/plans.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download Plans and Actions by HUC — plans","text":"count = TRUE returns tibble summarizes count actions returned query. count = FALSE returns list tibbles including documents, use assessment data, parameters assessment data identified query. tidy = FALSE raw JSON string returned, else JSON data parsed returned list tibbles.","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/plans.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download Plans and Actions by HUC — plans","text":"huc required argument. Multiple values allowed indicated arguments included comma separated values string (eg. organization_id=\"TCEQMAIN,DCOEE\").","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/plans.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Download Plans and Actions by HUC — plans","text":"See domain_values search values can queried. v1.0 function longer returns documents, associated_permits, plans tibbles.","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/plans.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download Plans and Actions by HUC — plans","text":"","code":"if (FALSE) { # \\dontrun{  ## Query plans by huc plans(huc =\"020700100103\")  ## return a JSON string instead of list of tibbles plans(huc = \"020700100103\", tidy = FALSE) } # }"},{"path":"https://mps9506.github.io/rATTAINS/reference/rATTAINS-package.html","id":null,"dir":"Reference","previous_headings":"","what":"rATTAINS: Access EPA 'ATTAINS' Data — rATTAINS-package","title":"rATTAINS: Access EPA 'ATTAINS' Data — rATTAINS-package","text":"R interface United States Environmental Protection Agency (EPA) Assessment, Total Maximum Daily Load (TMDL) Tracking Implementation System ('ATTAINS') data. 'ATTAINS' EPA database used track information provided states water quality assessments conducted federal Clean Water Act requirements. ATTAINS information API information available https://www.epa.gov/waterdata/attains.","code":""},{"path":[]},{"path":"https://mps9506.github.io/rATTAINS/reference/rATTAINS-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"rATTAINS: Access EPA 'ATTAINS' Data — rATTAINS-package","text":"Maintainer: Michael Schramm mpschramm@gmail.com (ORCID) [copyright holder]","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/state_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Download State Summaries — state_summary","title":"Download State Summaries — state_summary","text":"Provides summary information assessed uses organization (State, Territory Tribe) Integrated Reporting Cycle. Organization ID state, territory tribe required. Reporting Cycle provided, service return recent cycle. reporting Cycle provided, service return summary requested cycle.","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/state_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download State Summaries — state_summary","text":"","code":"state_summary(   organization_id = NULL,   reporting_cycle = NULL,   tidy = TRUE,   .unnest = TRUE,   ... )"},{"path":"https://mps9506.github.io/rATTAINS/reference/state_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download State Summaries — state_summary","text":"organization_id (character) Restricts results specified organization. required reporting_cycle (character) Filters returned results specified 4 digit reporting cycle year. Typically even numbered years. return reporting data years prior including reporting cycle reporting cycle. optional tidy (logical) TRUE (default) function returns tidied tibble. FALSE function returns raw JSON string. .unnest (logical) TRUE (default) function attempts unnest data longest format possible. defaults TRUE backwards compatibility suggested use FALSE. ... list curl options passed crul::HttpClient()","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/state_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download State Summaries — state_summary","text":"tidy = FALSE raw JSON string returned, else JSON data parsed returned list tibbles.","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/state_summary.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Download State Summaries — state_summary","text":"See domain_values search values can queried.","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/state_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download State Summaries — state_summary","text":"","code":"if (FALSE) { # \\dontrun{ ## Get a list of tibbles summarizing assessed uses state_summary(organization_id = \"TDECWR\", reporting_cycle = \"2016\")  ## Returns the query as a JSON string instead state_summary(organization_id = \"TDECWR\", reporting_cycle = \"2016\", tidy = FALSE) } # }"},{"path":"https://mps9506.github.io/rATTAINS/reference/surveys.html","id":null,"dir":"Reference","previous_headings":"","what":"Download State Survey Results — surveys","title":"Download State Survey Results — surveys","text":"Downloads data state statistical (probability) survey results.","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/surveys.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download State Survey Results — surveys","text":"","code":"surveys(   organization_id = NULL,   survey_year = NULL,   tidy = TRUE,   .unnest = TRUE,   ... )"},{"path":"https://mps9506.github.io/rATTAINS/reference/surveys.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download State Survey Results — surveys","text":"organization_id (character) Filters list “belonging ” one specified organizations. Multiple values may specified. required survey_year (character) Filters list year survey performed. optional. tidy (logical) TRUE (default) function returns tidied tibble. FALSE function returns raw JSON string. .unnest (logical) TRUE (default) function attempts unnest data longest format possible. defaults TRUE backwards compatibility suggested use FALSE. ... list curl options passed crul::HttpClient()","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/surveys.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download State Survey Results — surveys","text":"tidy = FALSE raw JSON string returned, else JSON data parsed returned list tibbles.","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/surveys.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download State Survey Results — surveys","text":"Arguments allow multiple values entered comma separated string spaces (organization_id = \"DOEE,21AWIC\").","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/surveys.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Download State Survey Results — surveys","text":"See domain_values search values can queried.","code":""},{"path":"https://mps9506.github.io/rATTAINS/reference/surveys.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download State Survey Results — surveys","text":"","code":"if (FALSE) { # \\dontrun{  ## return surveys by organization surveys(organization_id=\"SDDENR\")  ## return as a JSON string instead of a list of tibbles surveys(organization_id=\"SDDENR\", tidy = FALSE) } # }"},{"path":"https://mps9506.github.io/rATTAINS/news/index.html","id":"rattains-100","dir":"Changelog","previous_headings":"","what":"rATTAINS 1.0.0","title":"rATTAINS 1.0.0","text":"CRAN release: 2023-04-25","code":""},{"path":"https://mps9506.github.io/rATTAINS/news/index.html","id":"major-changes-1-0-0","dir":"Changelog","previous_headings":"","what":"Major changes","title":"rATTAINS 1.0.0","text":"major release stabilizes data structure returned functions calling ATTAINS API. might breaking changes due changes column names nested structure data. Unless major changes data returned ATTAINS, goal current data column names structure stay consistent release forward. API functions use tibblify::tibblify() converted nested lists tibbles. change ensure functions return consistent data structures web calls. functions may return slightly different data structures compared previous package versions (fixes #25, #31). added .unnest argument functions return API results. defaults TRUE preserve backwards compatibility. FALSE, results returned nest structure provided ATTAINS.","code":""},{"path":"https://mps9506.github.io/rATTAINS/news/index.html","id":"internal-changes-1-0-0","dir":"Changelog","previous_headings":"","what":"Internal changes","title":"rATTAINS 1.0.0","text":"remove dependency tidyjson. remove dependency janitor. update citation file use bibentry(). removes magrittr pipe import/export. remove write_disk_path folder used vcr test folder.","code":""},{"path":"https://mps9506.github.io/rATTAINS/news/index.html","id":"rattains-014","dir":"Changelog","previous_headings":"","what":"rATTAINS 0.1.4","title":"rATTAINS 0.1.4","text":"CRAN release: 2023-01-10 fixes compatibility tidyselect prep purrr 1.0.0 (PR #26 @hadley). breaking change - removed caching functionality dependency hoardr (archived).","code":""},{"path":"https://mps9506.github.io/rATTAINS/news/index.html","id":"rattains-013","dir":"Changelog","previous_headings":"","what":"rATTAINS 0.1.3","title":"rATTAINS 0.1.3","text":"CRAN release: 2021-11-03 add citation file add webmocker suggests, unit test now test status codes > 200 RETRY used instead GET address system timeouts Connectivity check useful messages included internet ","code":""},{"path":"https://mps9506.github.io/rATTAINS/news/index.html","id":"rattains-012","dir":"Changelog","previous_headings":"","what":"rATTAINS 0.1.2","title":"rATTAINS 0.1.2","text":"CRAN release: 2021-09-13 vignette longer creates empty file tree building (issue #14)","code":""},{"path":"https://mps9506.github.io/rATTAINS/news/index.html","id":"rattains-011","dir":"Changelog","previous_headings":"","what":"rATTAINS 0.1.1","title":"rATTAINS 0.1.1","text":"CRAN release: 2021-09-02 add package option cache files, defaults FALSE. minor fixes address CRAN checks various platforms.","code":""},{"path":"https://mps9506.github.io/rATTAINS/news/index.html","id":"rattains-010","dir":"Changelog","previous_headings":"","what":"rATTAINS 0.1.0","title":"rATTAINS 0.1.0","text":"CRAN release: 2021-08-20 Released CRAN","code":""},{"path":"https://mps9506.github.io/rATTAINS/news/index.html","id":"rattains-0009000","dir":"Changelog","previous_headings":"","what":"rATTAINS 0.0.0.9000","title":"rATTAINS 0.0.0.9000","text":"Added primary functions access webservice. Added NEWS.md file track changes package. Created vignettes. Created pkgdown site.","code":""}]
